{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3002\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Attach JWT token\r\napi.interceptors.request.use((config) => {\r\n  if (typeof window !== \"undefined\") {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nexport const getDocuments = async () => {\r\n  const response = await api.get(\"/documents\");\r\n  return response.data;\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,mBAAmB;AACnB,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B;;IAMA,OAAO;AACT;AAEO,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/editor/Editor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport { useCallback } from \"react\";\r\nimport { debounce } from \"lodash\";\r\nimport { api } from \"@/lib/axios\";\r\n\r\ninterface EditorProps {\r\n  documentId: string;\r\n  initialContent?: string;\r\n  title?: string;\r\n}\r\n\r\nexport function Editor({ documentId, initialContent, title }: EditorProps) {\r\n  // 1. Create the save function\r\n  const saveContent = useCallback(\r\n    debounce(async (htmlContent: string) => {\r\n      try {\r\n        await api.patch(`/documents/${documentId}`, {\r\n          content: htmlContent,\r\n        });\r\n        console.log(\"Saved successfully\");\r\n      } catch (err) {\r\n        console.error(\"Save failed\", err);\r\n      }\r\n    }, 1500),\r\n    [documentId]\r\n  );\r\n\r\n  const editor = useEditor({\r\n    extensions: [StarterKit],\r\n    content: initialContent || \"<p>Start writing...</p>\",\r\n\r\n    // ðŸ”¥ REQUIRED FOR NEXT.JS APP ROUTER\r\n    immediatelyRender: false,\r\n\r\n    onUpdate: ({ editor }) => {\r\n      const html = editor.getHTML();\r\n      saveContent(html);\r\n    },\r\n\r\n    editorProps: {\r\n      attributes: {\r\n        class:\r\n          \"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[70vh] p-12 bg-background shadow-xl border rounded-xl\",\r\n      },\r\n    },\r\n  });\r\n\r\n  // ðŸ”’ Guard while editor initializes (prevents crash)\r\n  if (!editor) {\r\n    return (\r\n      <div className=\"max-w-5xl mx-auto p-12 text-muted-foreground\">\r\n        Loading editorâ€¦\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto\">\r\n      <div className=\"mb-4\">\r\n        <h1 className=\"text-3xl font-bold\">\r\n          {title || \"Untitled Document\"}\r\n        </h1>\r\n      </div>\r\n      <EditorContent editor={editor} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAcO,SAAS,OAAO,EAAE,UAAU,EAAE,cAAc,EAAE,KAAK,EAAe;IACvE,8BAA8B;IAC9B,MAAM,cAAc,IAAA,oNAAW,EAC7B,IAAA,6IAAQ,EAAC,OAAO;QACd,IAAI;YACF,MAAM,0HAAG,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,YAAY,EAAE;gBAC1C,SAAS;YACX;YACA,QAAQ,GAAG,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,eAAe;QAC/B;IACF,GAAG,OACH;QAAC;KAAW;IAGd,MAAM,SAAS,IAAA,+KAAS,EAAC;QACvB,YAAY;YAAC,sKAAU;SAAC;QACxB,SAAS,kBAAkB;QAE3B,qCAAqC;QACrC,mBAAmB;QAEnB,UAAU,CAAC,EAAE,MAAM,EAAE;YACnB,MAAM,OAAO,OAAO,OAAO;YAC3B,YAAY;QACd;QAEA,aAAa;YACX,YAAY;gBACV,OACE;YACJ;QACF;IACF;IAEA,qDAAqD;IACrD,IAAI,CAAC,QAAQ;QACX,qBACE,8OAAC;YAAI,WAAU;sBAA+C;;;;;;IAIlE;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BACX,SAAS;;;;;;;;;;;0BAGd,8OAAC,mLAAa;gBAAC,QAAQ;;;;;;;;;;;;AAG7B"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-muted rounded-md animate-pulse\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/app/dashboard/documents/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { api } from \"@/lib/axios\";\r\nimport { Editor } from \"@/components/editor/Editor\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { AlertCircle } from \"lucide-react\";\r\n\r\ntype DocumentData = {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n};\r\n\r\nexport default function DocumentPage() {\r\n  const { id } = useParams<{ id: string }>();\r\n  const [doc, setDoc] = useState<DocumentData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchDocument() {\r\n      try {\r\n        setLoading(true);\r\n        const res = await api.get(`/documents/${id}`);\r\n        setDoc(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(\"Failed to load document\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (id) fetchDocument();\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-5xl mx-auto p-6 space-y-4\">\r\n        <Skeleton className=\"h-8 w-1/2\" />\r\n        <Skeleton className=\"h-100 w-full\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !doc) {\r\n    return (\r\n      <div className=\"flex items-center gap-2 text-destructive p-6\">\r\n        <AlertCircle className=\"h-5 w-5\" />\r\n        {error ?? \"Document not found\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Editor\r\n      documentId={doc.id}\r\n      title={doc.title}\r\n      initialContent={doc.content}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAee,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,+IAAS;IACxB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAsB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,WAAW;gBACX,MAAM,MAAM,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,IAAI;gBAC5C,OAAO,IAAI,IAAI;YACjB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC;gBACd,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,IAAI;IACV,GAAG;QAAC;KAAG;IAEP,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,gJAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC,gJAAQ;oBAAC,WAAU;;;;;;;;;;;;IAG1B;IAEA,IAAI,SAAS,CAAC,KAAK;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mOAAW;oBAAC,WAAU;;;;;;gBACtB,SAAS;;;;;;;IAGhB;IAEA,qBACE,8OAAC,gJAAM;QACL,YAAY,IAAI,EAAE;QAClB,OAAO,IAAI,KAAK;QAChB,gBAAgB,IAAI,OAAO;;;;;;AAGjC"}}]
}