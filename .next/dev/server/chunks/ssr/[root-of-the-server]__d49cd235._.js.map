{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/lib/axios.ts"],"sourcesContent":["import axios, { InternalAxiosRequestConfig } from \"axios\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3002\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n/**\r\n * Attach JWT token to every request\r\n */\r\napi.interceptors.request.use(\r\n  (config: InternalAxiosRequestConfig) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n/**\r\n * Optional: global 401 handling (safe)\r\n */\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      console.warn(\"Unauthorized â€“ token expired\");\r\n      localStorage.removeItem(\"token\");\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA;;CAEC,GACD,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAOA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B;;CAEC,GACD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,QAAQ,IAAI,CAAC;QACb,aAAa,UAAU,CAAC;IAC1B;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/ui/toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Toggle as TogglePrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"hover:text-foreground aria-pressed:bg-muted focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[state=on]:bg-muted gap-1 rounded-lg text-sm font-medium transition-all [&_svg:not([class*='size-'])]:size-4 group/toggle hover:bg-muted inline-flex items-center justify-center whitespace-nowrap outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-input hover:bg-muted border bg-transparent\",\n      },\n      size: {\n        default: \"h-8 min-w-8 px-2\",\n        sm: \"h-7 min-w-7 rounded-[min(var(--radius-md),12px)] px-1.5 text-[0.8rem]\",\n        lg: \"h-9 min-w-9 px-2.5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Toggle({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Toggle, toggleVariants }\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,uhBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,GAAG,OAEgC;IACnC,qBACE,8OAAC,8MAAe,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Separator as SeparatorPrimitive } from \"radix-ui\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:w-px data-[orientation=vertical]:self-stretch\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,8OAAC,uNAAkB,CAAC,IAAI;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,yHAAE,EACX,wKACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/editor/Toolbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { type Editor } from \"@tiptap/react\";\r\nimport { \r\n  Bold, Italic, List, ListOrdered, Quote, Undo, Redo, \r\n  Code, Heading1, Heading2, Image as ImageIcon, Sparkles, Mic\r\n} from \"lucide-react\";\r\nimport { Toggle } from \"@/components/ui/toggle\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\n\r\ninterface ToolbarProps {\r\n  editor: Editor | null;\r\n}\r\n\r\nexport function Toolbar({ editor }: ToolbarProps) {\r\n  if (!editor) return null;\r\n\r\n  return (\r\n    <div className=\"sticky top-0 z-10 flex items-center gap-1 border-b bg-background/95 p-2 backdrop-blur supports-backdrop-filter:bg-background/60 mb-4 rounded-t-xl\">\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"bold\")} onPressedChange={() => editor.chain().focus().toggleBold().run()}>\r\n        <Bold className=\"h-4 w-4\" />\r\n      </Toggle>\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"italic\")} onPressedChange={() => editor.chain().focus().toggleItalic().run()}>\r\n        <Italic className=\"h-4 w-4\" />\r\n      </Toggle>\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"code\")} onPressedChange={() => editor.chain().focus().toggleCode().run()}>\r\n        <Code className=\"h-4 w-4\" />\r\n      </Toggle>\r\n\r\n      <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\r\n\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"heading\", { level: 1 })} onPressedChange={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}>\r\n        <Heading1 className=\"h-4 w-4\" />\r\n      </Toggle>\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"heading\", { level: 2 })} onPressedChange={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}>\r\n        <Heading2 className=\"h-4 w-4\" />\r\n      </Toggle>\r\n\r\n      <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\r\n\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"bulletList\")} onPressedChange={() => editor.chain().focus().toggleBulletList().run()}>\r\n        <List className=\"h-4 w-4\" />\r\n      </Toggle>\r\n      <Toggle size=\"sm\" pressed={editor.isActive(\"orderedList\")} onPressedChange={() => editor.chain().focus().toggleOrderedList().run()}>\r\n        <ListOrdered className=\"h-4 w-4\" />\r\n      </Toggle>\r\n\r\n      <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\r\n\r\n      {/* NEW: AI & VOICE PLACEHOLDERS */}\r\n      <Button variant=\"ghost\" size=\"sm\" className=\"gap-2 text-primary hover:text-primary hover:bg-primary/10\">\r\n        <Sparkles className=\"h-4 w-4\" />\r\n        AI\r\n      </Button>\r\n      <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\r\n        <Mic className=\"h-4 w-4\" />\r\n        Voice\r\n      </Button>\r\n\r\n      <div className=\"ml-auto flex items-center gap-1\">\r\n        <Button variant=\"ghost\" size=\"sm\" onClick={() => editor.chain().focus().undo().run()}>\r\n          <Undo className=\"h-4 w-4\" />\r\n        </Button>\r\n        <Button variant=\"ghost\" size=\"sm\" onClick={() => editor.chain().focus().redo().run()}>\r\n          <Redo className=\"h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/editor/Editor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Placeholder from \"@tiptap/extension-placeholder\";\r\nimport Image from \"@tiptap/extension-image\";\r\nimport TaskList from \"@tiptap/extension-task-list\";\r\nimport TaskItem from \"@tiptap/extension-task-item\";\r\nimport { useCallback, useRef, useState } from \"react\";\r\nimport { debounce } from \"lodash\";\r\nimport { api } from \"@/lib/axios\";\r\nimport { Toolbar } from \"./Toolbar\";\r\n\r\ninterface EditorProps {\r\n  documentId: string;\r\n  initialContent?: string;\r\n  title?: string;\r\n}\r\n\r\nexport function Editor({ documentId, initialContent, title }: EditorProps) {\r\n  const [currentId, setCurrentId] = useState(documentId);\r\n  const hasCreatedRef = useRef(false);\r\n\r\n  const saveContent = useCallback(\r\n    debounce(async (htmlContent: string) => {\r\n      try {\r\n        // ðŸŸ¢ CASE 1: New document â†’ CREATE\r\n        if (currentId === \"new\" && !hasCreatedRef.current) {\r\n          hasCreatedRef.current = true;\r\n\r\n          const res = await api.post(\"/documents\", {\r\n            title: title || \"Untitled Document\",\r\n            content: htmlContent,\r\n          });\r\n\r\n          setCurrentId(res.data.id);\r\n          return;\r\n        }\r\n\r\n        // ðŸŸ¢ CASE 2: Existing document â†’ UPDATE\r\n        if (currentId !== \"new\") {\r\n          await api.put(`/documents/${currentId}`, {\r\n            content: htmlContent,\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Auto-save failed\", err);\r\n        hasCreatedRef.current = false; // allow retry\r\n      }\r\n    }, 1500),\r\n    [currentId, title]\r\n  );\r\n\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit.configure({\r\n        heading: { levels: [1, 2] },\r\n        bulletList: { keepAttributes: true, keepMarks: true },\r\n        orderedList: { keepAttributes: true, keepMarks: true },\r\n      }),\r\n      Placeholder.configure({\r\n        placeholder: \"Write something brilliant or press '/' for commands...\",\r\n      }),\r\n      Image,\r\n      TaskList,\r\n      TaskItem.configure({ nested: true }),\r\n    ],\r\n    content: initialContent || \"\",\r\n    immediatelyRender: false,\r\n    onUpdate: ({ editor }) => {\r\n      saveContent(editor.getHTML());\r\n    },\r\n    editorProps: {\r\n      attributes: {\r\n        class:\r\n          \"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[80vh] p-16 bg-background shadow-2xl border-x border-b rounded-b-xl transition-all\",\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!editor) return null;\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto pb-20\">\r\n      <div className=\"mb-8 pl-1\">\r\n        <h1 className=\"text-4xl font-extrabold tracking-tight text-foreground/90\">\r\n          {title || \"Untitled Document\"}\r\n        </h1>\r\n      </div>\r\n\r\n      <div className=\"relative group shadow-2xl rounded-xl border\">\r\n        <Toolbar editor={editor} />\r\n        <EditorContent editor={editor} />\r\n      </div>\r\n\r\n      <div className=\"mt-4 flex items-center justify-between text-muted-foreground text-[10px] uppercase font-bold tracking-widest px-2\">\r\n        <span>CollabHub v1.0</span>\r\n        <span>Auto-saving enabled</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;;AAmBO,SAAS,OAAO,EAAE,UAAU,EAAE,cAAc,EAAE,KAAK,EAAe;IACvE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,gBAAgB,IAAA,+MAAM,EAAC;IAE7B,MAAM,cAAc,IAAA,oNAAW,EAC7B,IAAA,6IAAQ,EAAC,OAAO;QACd,IAAI;YACF,mCAAmC;YACnC,IAAI,cAAc,SAAS,CAAC,cAAc,OAAO,EAAE;gBACjD,cAAc,OAAO,GAAG;gBAExB,MAAM,MAAM,MAAM,0HAAG,CAAC,IAAI,CAAC,cAAc;oBACvC,OAAO,SAAS;oBAChB,SAAS;gBACX;gBAEA,aAAa,IAAI,IAAI,CAAC,EAAE;gBACxB;YACF;YAEA,wCAAwC;YACxC,IAAI,cAAc,OAAO;gBACvB,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,WAAW,EAAE;oBACvC,SAAS;gBACX;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,oBAAoB;YAClC,cAAc,OAAO,GAAG,OAAO,cAAc;QAC/C;IACF,GAAG,OACH;QAAC;QAAW;KAAM;IAGpB,MAAM,SAAS,IAAA,+KAAS,EAAC;QACvB,YAAY;YACV,sKAAU,CAAC,SAAS,CAAC;gBACnB,SAAS;oBAAE,QAAQ;wBAAC;wBAAG;qBAAE;gBAAC;gBAC1B,YAAY;oBAAE,gBAAgB;oBAAM,WAAW;gBAAK;gBACpD,aAAa;oBAAE,gBAAgB;oBAAM,WAAW;gBAAK;YACvD;YACA,gMAAW,CAAC,SAAS,CAAC;gBACpB,aAAa;YACf;YACA,0KAAK;YACL,iMAAQ;YACR,iMAAQ,CAAC,SAAS,CAAC;gBAAE,QAAQ;YAAK;SACnC;QACD,SAAS,kBAAkB;QAC3B,mBAAmB;QACnB,UAAU,CAAC,EAAE,MAAM,EAAE;YACnB,YAAY,OAAO,OAAO;QAC5B;QACA,aAAa;YACX,YAAY;gBACV,OACE;YACJ;QACF;IACF;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BACX,SAAS;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,kJAAO;wBAAC,QAAQ;;;;;;kCACjB,8OAAC,mLAAa;wBAAC,QAAQ;;;;;;;;;;;;0BAGzB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCAAK;;;;;;kCACN,8OAAC;kCAAK;;;;;;;;;;;;;;;;;;AAId"}},
    {"offset": {"line": 632, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-muted rounded-md animate-pulse\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"dark:bg-input/30 border-input focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 disabled:bg-input/50 dark:disabled:bg-input/80 h-8 rounded-lg border bg-transparent px-2.5 py-1 text-base transition-colors file:h-6 file:text-sm file:font-medium focus-visible:ring-[3px] aria-invalid:ring-[3px] md:text-sm file:text-foreground placeholder:text-muted-foreground w-full min-w-0 outline-none file:inline-flex file:border-0 file:bg-transparent disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,upBACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 681, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/collab-frontend/src/app/dashboard/documents/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { api } from \"@/lib/axios\";\r\nimport { Editor } from \"@/components/editor/Editor\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { AlertCircle } from \"lucide-react\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\ntype DocumentData = {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n};\r\n\r\nexport default function DocumentPage() {\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  const [doc, setDoc] = useState<DocumentData | null>(null);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [savingTitle, setSavingTitle] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // ðŸ”¹ Fetch document\r\n  useEffect(() => {\r\n    async function fetchDocument() {\r\n      try {\r\n        setLoading(true);\r\n        const res = await api.get(`/documents/${id}`);\r\n        setDoc(res.data);\r\n        setTitle(res.data.title);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(\"Failed to load document\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (id) fetchDocument();\r\n  }, [id]);\r\n\r\n  // ðŸ”¹ Save title (on blur / enter)\r\n  const saveTitle = async () => {\r\n    if (!doc || title === doc.title) return;\r\n\r\n    try {\r\n      setSavingTitle(true);\r\n      await api.patch(`/documents/${doc.id}`, {\r\n        title,\r\n      });\r\n      setDoc({ ...doc, title });\r\n    } catch (err) {\r\n      console.error(\"Failed to update title\", err);\r\n    } finally {\r\n      setSavingTitle(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-5xl mx-auto p-6 space-y-4\">\r\n        <Skeleton className=\"h-8 w-1/2\" />\r\n        <Skeleton className=\"h-[400px] w-full\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !doc) {\r\n    return (\r\n      <div className=\"flex items-center gap-2 text-destructive p-6\">\r\n        <AlertCircle className=\"h-5 w-5\" />\r\n        {error ?? \"Document not found\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto p-6 space-y-6\">\r\n      {/* ðŸ”¹ Editable Title */}\r\n      <Input\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n        onBlur={saveTitle}\r\n        onKeyDown={(e) => {\r\n          if (e.key === \"Enter\") {\r\n            e.currentTarget.blur();\r\n          }\r\n        }}\r\n        placeholder=\"Untitled Document\"\r\n        className=\"text-3xl font-bold border-none px-0 focus-visible:ring-0\"\r\n      />\r\n\r\n      {/* ðŸ”¹ Editor */}\r\n      <Editor\r\n        documentId={doc.id}\r\n        title={title}\r\n        initialContent={doc.content}\r\n      />\r\n\r\n      {savingTitle && (\r\n        <p className=\"text-xs text-muted-foreground\">Saving title...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAgBe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,+IAAS;IAExB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAsB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,WAAW;gBACX,MAAM,MAAM,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,IAAI;gBAC5C,OAAO,IAAI,IAAI;gBACf,SAAS,IAAI,IAAI,CAAC,KAAK;YACzB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC;gBACd,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,IAAI;IACV,GAAG;QAAC;KAAG;IAEP,kCAAkC;IAClC,MAAM,YAAY;QAChB,IAAI,CAAC,OAAO,UAAU,IAAI,KAAK,EAAE;QAEjC,IAAI;YACF,eAAe;YACf,MAAM,0HAAG,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,IAAI,EAAE,EAAE,EAAE;gBACtC;YACF;YACA,OAAO;gBAAE,GAAG,GAAG;gBAAE;YAAM;QACzB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,eAAe;QACjB;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,gJAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC,gJAAQ;oBAAC,WAAU;;;;;;;;;;;;IAG1B;IAEA,IAAI,SAAS,CAAC,KAAK;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mOAAW;oBAAC,WAAU;;;;;;gBACtB,SAAS;;;;;;;IAGhB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,0IAAK;gBACJ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,QAAQ;gBACR,WAAW,CAAC;oBACV,IAAI,EAAE,GAAG,KAAK,SAAS;wBACrB,EAAE,aAAa,CAAC,IAAI;oBACtB;gBACF;gBACA,aAAY;gBACZ,WAAU;;;;;;0BAIZ,8OAAC,gJAAM;gBACL,YAAY,IAAI,EAAE;gBAClB,OAAO;gBACP,gBAAgB,IAAI,OAAO;;;;;;YAG5B,6BACC,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;;AAIrD"}}]
}